<html>
 <head></head> 
 <body> 
  <div class="entry"> 
   <p>对于汇总类型的分析报表，在报表生成时往往需要进行分组聚集运算，如果在数据库中先进行一次分组聚集，能够大大减少取到报表服务器的记录数，加快取数和报表运算的速度。</p> 
   <p>看如下报表：</p> 
   <p><img src="http://www.runqian.com.cn/know-how/wp-content/uploads/2009/06/15.png" alt="1.png" height="224" /></p> 
   <p>这是一个典型的交叉分组报表，其sql有两种写法：</p> 
   <p>第一种：select 产品，客户，销量 from 购买记录表</p> 
   <p>第二种：select产品，客户，sum(销量) from 购买记录表 group by 产品，客户</p> 
   <p>而报表的做法都一样，如下图所示：</p> 
   <p><img src="http://www.runqian.com.cn/know-how/wp-content/uploads/2009/06/28.png" alt="2.png" height="103" /></p> 
   <p>分析：</p> 
   <p>采用第一种做法，不仅仅取到报表服务器上记录数多了，取数速度慢，而且在报表端对购买记录表进行分组运算的时候速度也慢了；</p> 
   <p>采用第二种做法，数据库虽然要进行分组运算，但是数据库中有索引，运算速度快，且取到报表服务器端的记录数大大减少，取数速度大大加快，因此在报表端进行分组运算的时候只要对很少的记录数进行，报表的运算速度大大加快了。</p> 
  </div>  
 </body>
</html>