<html>
 <head></head> 
 <body> 
  <p>在润乾的报表使用当中，如果遇到海量数据的清单式列表，那么在读取、展现及导出过程中可能会出现速度过慢、内存溢出、系统死机等问题。因此，润乾报表提供了分页计算extHtml标签。这个标签扩展了原html标签的功能，实现了以页为单位对数据进行读取和展现及导出等操作，大大降低了内存占有量，提高了运行效率，避免内存溢出等问题。</p> 
  <p>那么，如何在使用分页标签的报表的单元格中显示当前页码和总页数？</p> 
  <p>该问题的解决方法有两种：</p> 
  <p>1、假设分页标签的默认缓存页为100，那么首先将分页标签中的属性cachePageNum=”1″的赋值为1，然后在单元格中用表达式=beginRow/20+1来显示当前的页码，用表达式=totalCount/20来显示总页数。如果cachePageNum的值没有改为1的话，那么当前页就一直显示为1，因为报表已经默认缓存了100页，在点击下一页的时候，虽然后后台还在运算，但此时beginRow的值不会发生变化了。</p> 
  <p>2、我们可以首先将报表中某一个单元格的数据类型设置为html类型，然后在相应的内容中写入如下js代码：</p> 
  <p>&lt;script&gt;<br /> document.write(report1_getCurrPage());<br /> &lt;/script&gt;</p> 
  <p>此时我们点击下一页的时候，所显示的数字即为当前页的页码。</p> 
  <p>总的页数我们也可以使用表达式：=floor(query(’SELECT count(*) FROM 订单明细’)/20,0)+1</p>  
 </body>
</html>